{% extends "base.html" %}
{% block content %}

  <div class="ftb-bar">{{ title }}</div>
  {% if subtitle %}
    <div class="ftb-subbar">{{ subtitle }}</div>
  {% endif %}

  {# If you pass items (list of {label, href}) we show 2-column grid #}
  {% if items and items|length %}
    <div class="ftb-2col">
      {% for it in items %}
        <a href="{{ it.href }}">{{ it.label }}</a>
      {% endfor %}
    </div>

  {# Else if you pass people, we show the avatar rows #}
  {% elif people and people|length %}
    <div class="ftb-list">
      {% for p in people %}
        <a class="ftb-rowLink" href="{{ p.href or ('/u/' ~ p.id) }}">
          <div class="ftb-row">
            <div class="ftb-avatarFrame">
              {% if p.profile_pic %}
                <img src="{{ url_for('static', filename=p.profile_pic) }}" alt="avatar">
              {% else %}
                <div class="ftb-avatarFallback">♪</div>
              {% endif %}
            </div>

            <div>
              <div class="ftb-rowTitle">
                {{ p.display_name or "Unnamed" }},
                {{ p.state or "—" }}
              </div>
              <div class="ftb-rowSub">
                {{ p.city or "—" }}{% if p.city and p.state %}, {% endif %}{{ p.state or "" }}
                {% if p.role %} — {{ p.role }}{% endif %}
              </div>
            </div>
          </div>
          <div class="ftb-rowDivider"></div>
        </a>
      {% endfor %}
    </div>

  {% else %}
    <p style="padding:18px 8px; opacity:.8; font-weight:700;">Nothing here yet. Add your profile details and try again.</p>
  {% endif %}

{% endblock %}

